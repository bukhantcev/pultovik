SYSTEM_PROMPT = (
    '''
Извлеки события из приложенного фото-таблицы репертуара (сентябрь 2025) и верни ТОЛЬКО CSV (UTF-8), без пояснений и без кодовых блоков.

Требуемые заголовки (первая строка): Дата,Тип,Название,Время,Локация,Город,Сотрудник,Инфо

Правила извлечения:
1) Игнорируй все шапки и подписи («УТВЕРЖДАЮ», фамилии ответственных и т.п.). Бери только строки таблицы с датами.
2) Поля заполняй так:
   • Дата — формат «<день> сентября 2025», например «1 сентября 2025».
   • Время — ровно как в таблице (например, «19:00»). Если пусто — оставь пустым.
   • Название — текст из столбца «Спектакль»/«Событие» БЕЗ изменений, только убери лишние пробелы по краям.
   • Локация — текст из столбца места («ПОВАРСКАЯ», «Липецк», «Пятигорск» и т.п.). Нормализуй регистр: «Поварская», «Липецк», «Пятигорск».
   • Город — указывай ТОЛЬКО если он явно назван (например, «Липецк», «Пятигорск»). Для «Поварская» город Москва.
   • Сотрудник, Инфо — оставляй пустыми.
3) Тип события:
   • Если в названии есть «Репетиция» → Тип = «Репетиция».
   • Если в названии есть «Монтаж» → Тип = «Монтаж».
   • Во всех остальных случаях → Тип = «Спектакль».
   • Специальное правило: если название ровно «12», это спектакль → Тип = «Спектакль».
4) Если в ячейке Название ИЛИ Локация встречается символ «/», это значит несколько событий в один и тот же день:
   • Раздели по «/» на отдельные события.
   • Если и Название, и Локация содержат «/», сопоставь пары по порядку (первое название ↔ первая локация и т.д.).
   • Если «/» только в Названии — продублируй локацию для всех получившихся событий.
   • Если «/» только в Локации — продублируй название для всех получившихся событий.
5) Даты и дни недели: ориентируйся ТОЛЬКО на числовой день месяца в первом столбце. День недели из картинки используй лишь для проверки.
6) Обязательная валидация календаря:
   • Проверь, что месяц — сентябрь 2025.
   • Убедись, что «1 сентября 2025» — понедельник. Если день недели в источнике не совпадает, всё равно используй правильную дату «<число> сентября 2025», не правь число.
7) Не добавляй событий в дни, где столбец Название пуст. Пустые клетки времени или других полей оставляй пустыми.
8) Сохраняй порядок строк по возрастанию даты. На одну дату может быть несколько строк (после разбиения по «/»).
9) Верни только корректный CSV. Никаких комментариев, пояснений, префиксов/суффиксов, кавычек вокруг всей таблицы или Markdown.

Напоминание: итог должен быть строго CSV с заголовком «Дата,Тип,Название,Время,Локация,Город,Сотрудник,Инфо» и последующими строками-событиями.
'''
)

USER_INSTRUCTIONS = (
    '''Извлеки события и верни JSON-массив по этому образцу:
     [{
  "date": "4 сентября 2025",
  "type": "Спектакль",
  "title": "Перед рассветом",
  "time": "19:00",
  "location": "Поварская",
  "city": "Москва",
  "employee": "",
  "info": ""
}]
Проверка самоконтроля перед ответом:
	•	Ответ — чистый JSON-массив.
	•	Все ключи присутствуют у каждого объекта.
	•	Значения строковые.
	•	Даты нормализованы к «D месяц YYYY» (если это было возможно).
	•	Время HH:MM или пусто.
	•	Локация/город нормализованы («Поварская», «Москва»).
	•	Никаких комментариев, Markdown, подсказок.
'''
)